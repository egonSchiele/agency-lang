def openai(msg: string): string {
  printTime {
    response = llm("Respond to this user message: ${msg}")
  }

  return "OpenAI response: ${response}"
}

def google(msg: string): string {
  @messages = []
  printTime {
    response = llm("Respond to this user message: ${msg}", { 
      model: "gemini-2.5-flash-lite"
    })
  }
  return "Google response: ${response}"
}

def fibs(): number[] {
  return llm("Generate the first 10 Fibonacci numbers")
}

node main() {
  msg = input("> ")
  res2 = async google(msg)
  res1 = async openai(msg)
  results = await Promise.race([res1, res2])
  printJSON(results)
}