def llm(input) {
  action :: "tool_call" | "exit"
  action = `Given this input, decide what action to take: ${input}`
  match (action) {
    "tool_call" => tool_call()
    "exit" => exit()
  }
}

def tool_call {
  // calls a tool
  output = tool_output
  llm(output)
}

msg = input("> ")
llm(msg)