def greet(name: string): string {
  return interrupt("Agent wants to call the greet function with name: ${name}")
  return "Kya chal raha jai, ${name}!"
}

node foo() {
  uses greet
  res = llm("Call the greet function with name: Adit. Return JUST the result of the function call, no explanation.")
  print(res)
  return res
}

node bar() {
  result = llm("What is 2 + 2?")
  return result
}

node main() {
  return threadExample()
}

node threadExample() {
  msgs = thread {
    res1: number[] = llm("What are the first 5 prime numbers?")
    res2: number[] = llm("What are the next 2 prime numbers after those?")
    msgs2 = subthread {
      res3: number = llm("And what is the sum of all those numbers combined?")
    }
    msgs3 = subthread {
      res4: number = llm("What are the next 3 after that?")
    }
  }
  print("res1", res1)
  print("res2", res2)
  print("res3", res3)
  printJSON(msgs)
  print("===============")
  printJSON(msgs2)
  print("===============")
  printJSON(msgs3)
}