import { printLine, readFile, writeFile, confirm, execCommand } from "./basicFunctions.ts"

def printLineTool(message: string): string {
  """
  Prints a line to the console.
  """
  printLine(message)
  return "printed"
}

def readFileTool(filePath: string): string {
  """
  Reads the content of a file.
  """
  return readFile(filePath)
}

def writeFileTool(filePath: string, content: string): string {
  """
  Writes content to a file.
  """
  await writeFile(filePath, content)
  return "file written"
}

def confirmTool(message: string): boolean {
  """
  Prompts the user for confirmation.
  """
  return await confirm(message)
}

def execCommandTool(command: string): string {
  """
  Executes a shell command and returns its output.
  """
  await execCommand(command)
  return "command executed"
}

node main() {
  while (true) {
    msg = input("> ")
    uses writeFileTool
    uses readFileTool
    uses printLineTool
    uses execCommandTool
    response = llm("Respond to this user message: ${msg}")
    print(response)
  }
}